{% extends 'base.html' %}
{% block content %}

<script type="text/javascript">
    
    function get_data(event) {
        console.log('getting data');
    
        $.ajax('/person/541dfcdaee6da110ec9326f9', {
           success: function(data) {
            console.log(data);
            populate(data);
           }
        });
    }

    function populate(input_json) {
        result = JSON.parse(input_json);
        console.log(result);
        $('#first_name').val(result.first_name);
        $('#last_name').val(result.last_name);
        $('#social_security').val(result.social_security);
        $('#birthdate').val(result.birth_date);
        $('#sex').val(result.sex);
        $('#marital_status').val(result.marital_status);

        $('#home-address').val(result.addresses[0].street);
        $('#home-city').val(result.addresses[0].city);
        $('#home-state').val(result.addresses[0].state);


    }
 

</script>

<style type="text/css">

    .form-group {
        margin-top: 30px;
    }

    .form-inline {
        padding-left: 20px;
        background-color: #FFFFFF;

        border-left: 1px solid #d0d0d0;
        border-right: 1px solid #d0d0d0;
        border-bottom: 1px solid #d0d0d0;
    }

    .control-label {
        min-width: 100px;
    }

    .form-control {
        margin-right: 20px;
        margin-bottom: 5px;
    }

    .get-data-btn {
        margin-top: 10px;
        margin-bottom: 20px;
        margin-left: 5px;

        float: left;
    }

    .patient-id-input {
        float: left;
    }


</style>

<h1>Patient Registration</h1>
<div class="input-group" style="margin-bottom: 20px;">
    <button class="btn btn-success" onclick="get_data(event)">Get Patient Registration from Simplixity</button>
</div>

    <ul class="nav nav-tabs" role="tablist">
        <li class="active"><a href="#home" role="tab" data-toggle="tab">Patient Info</a></li>
        <li><a href="#profile" role="tab" data-toggle="tab">Meidcal History</a></li>
        <li><a href="#messages" role="tab" data-toggle="tab">Visit Notes</a></li>
        <li><a href="#settings" role="tab" data-toggle="tab">Prescriptions</a></li>
        <li><a href="#settings" role="tab" data-toggle="tab">Prescriptions</a></li>
        <li><a href="#settings" role="tab" data-toggle="tab">Reports</a></li>
        <li><a href="#settings" role="tab" data-toggle="tab">List Maintenance</a></li>
    </ul>
    
    <form class="form-inline" role="form">
        <div class="form-group">
            <label class="control-label" for="inputSuccess4">First Name</label>
            <input type="text" class="form-control" id="first_name" />
            <label class="control-label" for="inputSuccess4">Middle Initial</label>
            <input type="text" class="form-control" id="middle_initial" style="width: 30px;">
            <label class="control-label" for="inputSuccess4">Last Name</label>
            <input type="text" class="form-control" id="last_name">
        </div>
        <br />
        <div class="form-group">
            <label class="control-label" for="inputSuccess4">SSN</label>
            <input type="text" class="form-control" id="social_security">
        </div>
        <br />
        <div class="form-group">
            <label class="control-label" for="inputSuccess4">DOB</label>
            <input type="text" class="form-control" id="birthdate">
            <label class="control-label" for="inputSuccess4">Age</label>
            <input type="text" class="form-control" id="inputSuccess4">
        </div>
        <br />
        <div class="form-group">
            <label class="control-label" for="inputSuccess4">Sex</label>
            <input type="text" class="form-control" id="sex">
            <label class="control-label" for="inputSuccess4">Marrital Status</label>
            <input type="text" class="form-control" id="marital_status">
        </div>
        <br />
        <div class="form-group">
            <label class="control-label" for="inputSuccess4">DL #</label>
            <input type="text" class="form-control" id="inputSuccess4">
            <label class="control-label" for="inputSuccess4">Employment</label>
            <input type="text" class="form-control" id="inputSuccess4"><br />
            <label class="control-label" for="inputSuccess4">School</label>
            <input type="text" class="form-control" id="inputSuccess4">
        </div>
        <br />
        <div class="form-group">
            <label class="control-label" for="inputSuccess4">Home Phone #</label>
            <input type="text" class="form-control" id="inputSuccess4"><br />
            <label class="control-label" for="inputSuccess4">Address</label>
            <input type="text" class="form-control" id="home-address"><br />
            <label class="control-label" for="inputSuccess4">Zip</label>
            <input type="text" class="form-control" id="inputSuccess4"><br />
            <label class="control-label" for="inputSuccess4">City</label>
            <input type="text" class="form-control" id="home-city">
            <label class="control-label" for="inputSuccess4">State</label>
            <input type="text" class="form-control" id="home-state">
        </div>
        <br />
        <div class="form-group">
            <label class="control-label" for="inputSuccess4">Employer</label>
            <input type="text" class="form-control" id="inputSuccess4"><br />
            <label class="control-label" for="inputSuccess4">Work Phone #</label>
            <input type="text" class="form-control" id="inputSuccess4"><br />
            <label class="control-label" for="inputSuccess4">Address</label>
            <input type="text" class="form-control" id="inputSuccess4"><br />
            <label class="control-label" for="inputSuccess4">Zip</label>
            <input type="text" class="form-control" id="inputSuccess4"><br />
            <label class="control-label" for="inputSuccess4">City</label>
            <input type="text" class="form-control" id="inputSuccess4">
        </div>
        <br />
        <div class="form-group">
            <label class="control-label" for="inputSuccess4">Referrer</label>
            <input type="text" class="form-control" id="inputSuccess4">
        </div>
    </form>

{% endblock %}
